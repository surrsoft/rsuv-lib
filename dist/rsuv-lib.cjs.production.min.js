"use strict";function t(t){return t&&"object"==typeof t&&"default"in t?t.default:t}Object.defineProperty(exports,"__esModule",{value:!0});var e=t(require("lodash")),n=t(require("email-validator")),r=t(require("lodash/toInteger")),s=function(){function t(t,e){void 0===t&&(t=""),void 0===e&&(e=""),this.code=t,this.message=e}return t.prototype.asString=function(){return"code ["+this.code+"] message ["+this.message+"]"},t.asStringB=function(t){return"code ["+t.code+"] message ["+t.message+"]"},t}(),i=function(){function t(t,e){if(void 0===t&&(t=20),void 0===e&&(e=10),this.elemsCount=t,this.elemsPerPageCount=e,this.pageCount=1,t>=e){var n=t/e,r=Math.trunc(n),s=n-r;0===s?this.pageCount=r:s>0&&(this.pageCount=r+1)}}var e=t.prototype;return e.indexesByPageNum=function(t){var e=(t>this.pageCount?this.pageCount:t)*this.elemsPerPageCount-1;return{indexStart:e-this.elemsPerPageCount+1,indexLast:e}},e.elemsByPageNum=function(t,e){var n=this.indexesByPageNum(e);return t.slice(n.indexStart,n.indexLast+1)},t}(),u=function(){function t(t,e,n){void 0===t&&(t=!0),void 0===e&&(e=""),void 0===n&&(n=""),this.success=t,this.errCode=e,this.errMessage=n}return t.infoMulti=function(t){var e={success:[],notSuccess:[]};return t.forEach((function(t){t.success?e.success.push(t):e.notSuccess.push(t)})),e},t.successAllIsSugar=function(e){var n=t.infoMulti(e);return 0===n.notSuccess.length&&n.success.length>0?new t(!0):n.notSuccess.length>0?n.notSuccess[0]:new t(!1,"[[210725095419]]","")},t}(),o=function(){function t(t){this.success=!0,t&&(this.success=t.success,this.successCode=t.successCode,this.value=t.value,this.errCode=t.errCode,this.errMessage=t.errMessage)}return t.fromPknz=function(e){return new t(e?{success:e.success,errCode:e.errCode,errMessage:e.errMessage}:{success:!1,errCode:"[[210725095953]]",errMessage:""})},t}(),a=function(){function t(t){this.val=t}return t.prototype.bnuwIsValid=function(){try{if(!this.val)return new u(!1,"[[210705185504]]","is falsy");if(!e.isString(this.val))return new u(!1,"[[210706090804]]","is not string");if(this.val.length<1)return new u(!1,"[[210705185559]]","length < 1")}catch(t){return new u(!1,"[[210705185560]]",t.message)}return new u(!0)},t}();function c(t,e,n,r,s,i,u){try{var o=t[i](u),a=o.value}catch(t){return void n(t)}o.done?e(a):Promise.resolve(a).then(r,s)}function h(t){return function(){var e=this,n=arguments;return new Promise((function(r,s){var i=t.apply(e,n);function u(t){c(i,r,s,u,o,"next",t)}function o(t){c(i,r,s,u,o,"throw",t)}u(void 0)}))}}function l(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,(Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function p(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return f(t,void 0);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(t,void 0):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=t[Symbol.iterator]()).next.bind(n)}var v,d,w=function(t){function e(){return t.apply(this,arguments)||this}return l(e,t),e.prototype.bnuwIsValid=function(){try{var e=t.prototype.bnuwIsValid.call(this);if(!e.success)return e;if(/\s/.test(this.val))return new u(!1,"[[210706092510]]","includes whitespace(s)")}catch(t){return new u(!1,"[[210706092135]]",t.message)}return new u(!0)},e}(a);function g(t){return!t||0===t.length||/^\s*$/.test(t)}function y(t,e){if(t&&e){var n=t.toLowerCase().split(e.toLowerCase()).length-1;return n>=0?n:0}return 0}function m(t,n,r){var s=[];if(!t||!n||!e.isString(t)||!e.isString(n)||t.length<1||n.length<1||t.length<n.length)return s;for(var i=e.escapeRegExp(n),u=new RegExp(i,"g"+(r?"i":"")),o=!0;o;)(o=u.exec(t))&&s.push(new I(o.index,o.index+n.length));return s}!function(t){t.STARTED="rsuv_t3_started",t.ENDED="rsuv_t3_ended",t.CONTAINS="rsuv_t3_contains",t.COMPLETE_MATCH="rsuv_t3_complete_match"}(v||(v={})),function(t){t.SENSITIVE="rsuv_t6_case_sensitive",t.NOT_SENSITIVE="rsuv_t6_not_case_sensitive"}(d||(d={}));var x,T,b=function(){this.containsCount=0,this.containsIndexes=[],this.rsuvT3=[]},E=function(){this.sensitive=new b,this.notSensitive=new b},I=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.startIndex=t,this.endIndex=e},C={__proto__:null,isEmptyOrWhitespaces:g,substrCount:function(t,e){if(t&&e){var n=t.split(e).length-1;return n>=0?n:0}return 0},substrCountB:y,substrIndexes:m,stringsTwoInfoB:function(t,e){var n=u.successAllIsSugar([t.bnuwIsValid(),e.bnuwIsValid()]);if(!n.success)return o.fromPknz(n);var r=t.val,s=e.val,i=new E;if(s.length>r.length)return new o({success:!0,value:i});var a=new b;if(r.length===s.length&&r.toLowerCase()===s.toLowerCase())a.rsuvT3.push(v.COMPLETE_MATCH),a.rsuvT3.push(v.STARTED),a.rsuvT3.push(v.ENDED),a.rsuvT3.push(v.CONTAINS),a.containsCount=1,a.containsIndexes.push(new I(0,s.length));else{var c=m(r,s,!0);a.containsIndexes=c,a.containsCount=c.length,a.containsCount>0&&a.rsuvT3.push(v.CONTAINS),r.substring(0,s.length).toLowerCase()===s.toLowerCase()&&a.rsuvT3.push(v.STARTED),r.substring(r.length-s.length,r.length).toLowerCase()===s.toLowerCase()&&a.rsuvT3.push(v.ENDED)}var h=new b;if(r.length===s.length&&r===s)h.rsuvT3.push(v.COMPLETE_MATCH),h.rsuvT3.push(v.STARTED),h.rsuvT3.push(v.ENDED),h.rsuvT3.push(v.CONTAINS),h.containsCount=1,h.containsIndexes.push(new I(0,s.length));else{var l=m(r,s,!1);h.containsIndexes=l,h.containsCount=l.length,h.containsCount>0&&h.rsuvT3.push(v.CONTAINS),r.substring(0,s.length)===s&&h.rsuvT3.push(v.STARTED),r.substring(r.length-s.length,r.length)===s&&h.rsuvT3.push(v.ENDED)}return i.sensitive=h,i.notSensitive=a,new o({success:!0,value:i})},stringsTwoInfo:function(t,e,n){void 0===n&&(n=!0);var r=u.successAllIsSugar([t.bnuwIsValid(),e.bnuwIsValid()]);if(!r.success)return o.fromPknz(r);var s=t.val,i=e.val,a=new b;if(i.length>s.length)return new o({success:!0,value:a});if(n)if(s.length===i.length&&s.toLowerCase()===i.toLowerCase())a.rsuvT3.push(v.COMPLETE_MATCH),a.rsuvT3.push(v.STARTED),a.rsuvT3.push(v.ENDED),a.rsuvT3.push(v.CONTAINS),a.containsCount=1,a.containsIndexes.push(new I(0,i.length));else{var c=m(s,i,!0);a.containsIndexes=c,a.containsCount=c.length,a.containsCount>0&&a.rsuvT3.push(v.CONTAINS),s.substring(0,i.length).toLowerCase()===i.toLowerCase()&&a.rsuvT3.push(v.STARTED),s.substring(s.length-i.length,s.length).toLowerCase()===i.toLowerCase()&&a.rsuvT3.push(v.ENDED)}else if(s.length===i.length&&s===i)a.rsuvT3.push(v.COMPLETE_MATCH),a.rsuvT3.push(v.STARTED),a.rsuvT3.push(v.ENDED),a.rsuvT3.push(v.CONTAINS),a.containsCount=1,a.containsIndexes.push(new I(0,i.length));else{var h=m(s,i,!1);a.containsIndexes=h,a.containsCount=h.length,a.containsCount>0&&a.rsuvT3.push(v.CONTAINS),s.substring(0,i.length)===i&&a.rsuvT3.push(v.STARTED),s.substring(s.length-i.length,s.length)===i&&a.rsuvT3.push(v.ENDED)}return new o({success:!0,value:a})},get RSUV_T3(){return v},get RSUV_T6_CASE(){return d},RsuvT4:b,RsuvT5:E,RsuvT7:I},S=function(t){function e(){return t.apply(this,arguments)||this}return l(e,t),e.prototype.bnuwIsValid=function(){try{var e=t.prototype.bnuwIsValid.call(this);if(!e.success)return e;if(g(this.val))return new u(!1,"[[210705191242]]","contains only whitespaces")}catch(t){return new u(!1,"[[210705190613]]",t.message)}return new u(!0)},e}(a),_=function(t){function e(){return t.apply(this,arguments)||this}return l(e,t),e.prototype.bnuwIsValid=function(){try{var e=t.prototype.bnuwIsValid.call(this);if(!e.success)return e;if(/^\s/.test(this.val))return new u(!1,"[[210705191717]]","started with whitespace");if(/\s$/.test(this.val))return new u(!1,"[[210705191826]]","ended with whitespace")}catch(t){return new u(!1,"[[210705191508]]",null==t?void 0:t.message)}return new u(!0)},e}(S),A=function(t){function e(){return t.apply(this,arguments)||this}return l(e,t),e.prototype.bnuwIsValid=function(){return n.validate(this.val)?new u(!0):new u(!1,"[[210706113857]]","EmailValidator")},e}(w),N=(function(t){var e=function(t){var e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},s=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",u=r.toStringTag||"@@toStringTag";function o(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{o({},"")}catch(t){o=function(t,e,n){return t[e]=n}}function a(t,e,n,r){var s=Object.create((e&&e.prototype instanceof l?e:l).prototype),i=new E(r||[]);return s._invoke=function(t,e,n){var r="suspendedStart";return function(s,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===s)throw i;return{value:void 0,done:!0}}for(n.method=s,n.arg=i;;){var u=n.delegate;if(u){var o=x(u,n);if(o){if(o===h)continue;return o}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var a=c(t,e,n);if("normal"===a.type){if(r=n.done?"completed":"suspendedYield",a.arg===h)continue;return{value:a.arg,done:n.done}}"throw"===a.type&&(r="completed",n.method="throw",n.arg=a.arg)}}}(t,n,i),s}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=a;var h={};function l(){}function f(){}function p(){}var v={};v[s]=function(){return this};var d=Object.getPrototypeOf,w=d&&d(d(I([])));w&&w!==e&&n.call(w,s)&&(v=w);var g=p.prototype=l.prototype=Object.create(v);function y(t){["next","throw","return"].forEach((function(e){o(t,e,(function(t){return this._invoke(e,t)}))}))}function m(t,e){var r;this._invoke=function(s,i){function u(){return new e((function(r,u){!function r(s,i,u,o){var a=c(t[s],t,i);if("throw"!==a.type){var h=a.arg,l=h.value;return l&&"object"==typeof l&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,u,o)}),(function(t){r("throw",t,u,o)})):e.resolve(l).then((function(t){h.value=t,u(h)}),(function(t){return r("throw",t,u,o)}))}o(a.arg)}(s,i,r,u)}))}return r=r?r.then(u,u):u()}}function x(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return h;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var r=c(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,h;var s=r.arg;return s?s.done?(e[t.resultName]=s.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):s:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function b(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function I(t){if(t){var e=t[s];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:C}}function C(){return{value:void 0,done:!0}}return f.prototype=g.constructor=p,p.constructor=f,f.displayName=o(p,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,o(t,u,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},y(m.prototype),m.prototype[i]=function(){return this},t.AsyncIterator=m,t.async=function(e,n,r,s,i){void 0===i&&(i=Promise);var u=new m(a(e,n,r,s),i);return t.isGeneratorFunction(n)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},y(g),o(g,u,"Generator"),g[s]=function(){return this},g.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=I,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(b),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return u.type="throw",u.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var s=this.tryEntries.length-1;s>=0;--s){var i=this.tryEntries[s],u=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var o=n.call(i,"catchLoc"),a=n.call(i,"finallyLoc");if(o&&a){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(o){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var s=this.tryEntries[r];if(s.tryLoc<=this.prev&&n.call(s,"finallyLoc")&&this.prev<s.finallyLoc){var i=s;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var u=i?i.completion:{};return u.type=t,u.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(u)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),b(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var s=r.arg;b(n)}return s}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:I(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}(t.exports);try{regeneratorRuntime=e}catch(t){Function("r","regeneratorRuntime = r")(e)}}(T={exports:{}}),T.exports),R=function(t,e,n,r){void 0===t&&(t=0),void 0===e&&(e=1),void 0===n&&(n=0),void 0===r&&(r=[]),this.page=t,this.pageCount=e,this.elemsAllCount=n,this.elemsOfPage=r},L=function(){function t(t,e){this.perPage=t,this.dataSource=e,this.page=0,this.elemsAllCount=0,this.elemsOfPage=[],this.pageCount=0}var e=t.prototype;return e.make=function(){var t=h(N.mark((function t(e,n){var r,s,o,a,c,h;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===n&&(n=!1),t.next=3,this.dataSource.elemsAllCountGet();case 3:return s=new i(r=t.sent,this.perPage),o=s.pageCount,this.page=n||o<e?o:e,this.elemsAllCount=r,this.pageCount=o,a=s.indexesByPageNum(this.page),c=a.indexStart,h=a.indexLast,t.next=12,this.dataSource.elemsGet(c,h-c+1);case 12:return this.elemsOfPage=t.sent,t.abrupt("return",new u);case 14:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),e.dataGet=function(){return new R(this.page,this.pageCount,this.elemsAllCount,this.elemsOfPage)},t}(),V=function(){function t(t,e){this.basePath=t,this.collectionName=e,this.path=""+this.basePath+this.collectionName}var e=t.prototype;return e.elemsCountGetAll=function(){var t=h(N.mark((function t(){var e;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(this.path+"?_limit=1");case 2:return e=t.sent.headers.get("x-total-count"),t.abrupt("return",r(e));case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e.elemsGetAll=function(){var t=h(N.mark((function t(){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(this.path);case 2:return t.abrupt("return",t.sent.json());case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e.elemsGet=function(){var t=h(N.mark((function t(e,n){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(this.path+"?_start="+e+"&_limit="+n);case 2:return t.abrupt("return",t.sent.json());case 4:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),e.elemsGetPage=function(){var t=h(N.mark((function t(e,n){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(this.path+"?_page="+e+"&_limit="+n);case 2:return t.abrupt("return",t.sent.json());case 4:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),e.elemsGetByFilter=function(){var t=h(N.mark((function t(e){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(this.path+"?"+e);case 2:return t.abrupt("return",t.sent.json());case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e.elemsGetByFilterB=function(){var t=h(N.mark((function t(e,n,r,s){var i;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.elemsGetAll();case 2:return i=t.sent.filter((function(t){return y(t[e],n)>0})),t.abrupt("return",i.slice(r,r+s));case 5:case"end":return t.stop()}}),t,this)})));return function(e,n,r,s){return t.apply(this,arguments)}}(),e.elemsGetByFilterBB=function(){var t=h(N.mark((function t(e,n,r,s){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.elemsGetByFilterB(e,n,(r-1)*s,s);case 1:case"end":return t.stop()}}),t,this)})));return function(e,n,r,s){return t.apply(this,arguments)}}(),e.elemsGetByFilterC=function(){var t=h(N.mark((function t(e,n,r,s){var i,u;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.elemsGetAll();case 2:return i=t.sent.filter((function(t){return y(t[e],n)>0})),u=i.slice(r,r+s),t.abrupt("return",{countAll:i.length,data:u,hasNext:r+s<i.length});case 6:case"end":return t.stop()}}),t,this)})));return function(e,n,r,s){return t.apply(this,arguments)}}(),e.elemsGetByFilterCB=function(){var t=h(N.mark((function t(e,n,r,s){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.elemsGetByFilterC(e,n,(r-1)*s,s));case 1:case"end":return t.stop()}}),t,this)})));return function(e,n,r,s){return t.apply(this,arguments)}}(),e.elemDelete=function(){var t=h(N.mark((function t(e){var n;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(this.path+"/"+e,{method:"DELETE"});case 2:if(200===(n=t.sent).status){t.next=5;break}return t.abrupt("return",new u(!1,"210315153800","err*: id not found; id ["+e+"]; ret.status ["+n.status+"]"));case 5:return t.abrupt("return",new u);case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e.elemsDelete=function(){var t=h(N.mark((function t(e){var n,r,s,i;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=[],r=p(e);case 2:if((s=r()).done){t.next=10;break}return i=s.value,t.next=6,this.elemDelete(i);case 6:n.push(t.sent);case 8:t.next=2;break;case 10:return t.abrupt("return",n);case 11:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e.elemsDeleteByFilter=function(){var t=h(N.mark((function t(e){var n;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.elemsGetByFilter(e);case 2:return n=t.sent,t.next=5,this.elemsDelete(n.map((function(t){return t.id})));case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e.elemCreate=function(){var t=h(N.mark((function t(e){var n;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(""+this.path,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});case 2:if(201!==(n=t.sent).status){t.next=5;break}return t.abrupt("return",new u);case 5:return t.abrupt("return",new u(!1,"210316120200","err*: not created; status ["+n.status+"] url ["+n.url+"]"));case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e.elemCreateB=function(){var t=h(N.mark((function t(e){var n;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(""+this.path,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});case 2:if(201!==(n=t.sent).status){t.next=8;break}return t.next=6,n.json();case 6:return t.abrupt("return",new o({success:!0,value:t.sent.id+""}));case 8:return t.abrupt("return",new o({success:!1,errCode:n.status+"",errMessage:n.url}));case 9:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e.elemUpdate=function(){var t=h(N.mark((function t(e){var n;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(this.path+"/"+e.id,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});case 2:if(200!==(n=t.sent).status){t.next=5;break}return t.abrupt("return",new u);case 5:return t.abrupt("return",new u(!1,"210318111500","err*: not updated; status ["+n.status+"] url ["+n.url+"]"));case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),t}(),k=function(){function t(t){this.val=t}return t.prototype.bnuwIsValid=function(){try{if(!e.isBoolean(this.val))return new u(!1,"[[210711220826]]","is not boolean")}catch(t){return new u(!1,"[[210705185560]]",t.message)}return new u(!0)},t}(),O=function(){function t(){}return t.find=function(t,e){return t.find((function(t){return t.id===e}))},t.append=function(e,n){return t.find(e,n.id)?new u(!1,"[[210712155908]]","already exist"):(e.push(n),new u(!0))},t.appendMulti=function(e,n){var r=[];return n.forEach((function(n){var s=t.append(e,n);s.success||r.push(s)})),r},t.update=function(e,n){var r=t.find(e,n.id);return r?(r.checked=n.checked,new u(!0)):new u(!1,"[[210712160222]]","not finded")},t.updateMulti=function(e,n){var r=[];return n.forEach((function(n){var s=t.update(e,n);s.success||r.push(s)})),r},t.delete=function(t,e){var n=t.findIndex((function(t){return t.id===e.id}));return-1!==n?(t.splice(n,1),new u(!0)):new u(!1,"[[210712160441]]","not finded")},t.deleteMulti=function(e,n){var r=[];return n.forEach((function(n){var s=t.delete(e,n);s.success||r.push(s)})),r},t.filter=function(t,e){return t.filter((function(t){return t.checked===e}))},t.inverse=function(t){t.forEach((function(t){return t.checked=!t.checked}))},t.selectAll=function(t){t.forEach((function(t){t.checked||(t.checked=!0)}))},t.deselectAll=function(t){t.forEach((function(t){t.checked&&(t.checked=!1)}))},t}(),P=function(){function t(t,e){void 0===t&&(t=""),void 0===e&&(e=!1),this.id=t,this.checked=e}return t.prototype.bnuwIsValid=function(){var t=function(t){if(Array.isArray(t)&&t.length>0){var e=[];return t.forEach((function(t){var n,r=(n=t)?n.bnuwIsValid()||new u(!1,"[[210711215805]]","invalid value"):new u(!1,"[[210711215605]]","value is falsy");r.success||e.push(r)})),e}return[new u(!1,"[[210711221552]]")]}([new w(this.id),new k(this.checked)]);return t.length>0?t[0]:new u(!0)},t}(),D=function(t,e){void 0===t&&(t=-1),void 0===e&&(e=!1),this.success=!1,this.codeNum=0,this.success=e,this.codeNum=t},M=function(){function t(){}return t.elemDelete=function(e,n){return t.fnArrValidIs(e)?t.fnIndexValidIs(e,n)?(e.splice(n,1),new D(0,!0)):new D(2):new D(1)},t.elemAdd=function(e,n,r){return t.fnArrValidIs(e)?t.fnIndexValidIsB(e,n)?(e.splice(n,0,r),new D(0,!0)):new D(2):new D(1)},t.elemMove=function(e,n,r){if(!t.fnArrValidIs(e))return new D(1);if(!t.fnIndexValidIs(e,n))return new D(2);if(!t.fnIndexValidIs(e,r))return new D(3);if(n===r)return new D(0,!0);var s=e.splice(n,1);return e.splice(r,0,s[0]),new D(0,!0)},t.elemsSwap=function(e,n,r){if(!t.fnArrValidIs(e))return new D(1);if(!t.fnIndexValidIs(e,n))return new D(2);if(!t.fnIndexValidIs(e,r))return new D(3);if(n===r)return new D(0,!0);var s=e[n];return e[n]=e[r],e[r]=s,new D(0,!0)},t.fnIndexValidIs=function(t,e){return!(e<0)&&e<=t.length-1},t.fnIndexValidIsB=function(t,e){return!(e<0)&&e<=t.length},t.fnArrValidIs=function(t){return!!e.isArray(t)},t}(),B=function(){function t(t){this.val=t}return t.prototype.bnuwIsValid=function(){try{if(!this.val&&0!==this.val)return new u(!1,"[[1636272243]]","is falsy");if(!e.isFinite(this.val))return new u(!1,"[[1636272327]]","is not number");if(!e.isSafeInteger(this.val))return new u(!1,"[[1636272328]]","is not integer")}catch(t){return new u(!1,"[[1636279573]]",t.message)}return new u(!0)},t}(),G=function(t){function e(){return t.apply(this,arguments)||this}return l(e,t),e.prototype.bnuwIsValid=function(){try{var e=t.prototype.bnuwIsValid.call(this);if(!e.success)return e;if(this.val<0)return new u(!1,"[[1636279844]]","number is < 0")}catch(t){return new u(!1,"[[1636279706]]",t.message)}return new u(!0)},e}(B),j=function(t){function e(){return t.apply(this,arguments)||this}return l(e,t),e.prototype.bnuwIsValid=function(){try{var e=t.prototype.bnuwIsValid.call(this);if(!e.success)return e;if(0===this.val)return new u(!1,"[[1636280020]]","number is === 0")}catch(t){return new u(!1,"[[1636280025]]",t.message)}return new u(!0)},e}(G),F=function(t){function e(){return t.apply(this,arguments)||this}return l(e,t),e.prototype.bnuwIsValid=function(){try{var e=t.prototype.bnuwIsValid.call(this);if(!e.success)return e;if(this.val<-1)return new u(!1,"[[1636280874]]","number is < -1")}catch(t){return new u(!1,"[[1636280879]]",t.message)}return new u(!0)},e}(B);(x=exports.RsuvSearchMode||(exports.RsuvSearchMode={})).EQUAL_STRICT="equal_strict_asau22",x.CONTAINS="contains_asau22",x.START_WITH="start_with_asau22",x.END_WITH="end_with_asau22";var H,U=function(){function t(t,e){void 0===t&&(t=exports.RsuvSearchMode.CONTAINS),this.searchMode=t,this.isCaseSensitive=e}return t.prototype.bnuwIsValid=function(){return new u(!0)},t}();(H=exports.RsuvEnCaseSensitive||(exports.RsuvEnCaseSensitive={})).CASE_SENSITIVE_TRUE="case_sensitive_true_asau26",H.CASE_SENSITIVE_FALSE="case_sensitive_false_asau26";var z,$=function(t){function e(){return t.apply(this,arguments)||this}return l(e,t),e}(function(t){function e(){return t.apply(this,arguments)||this}return l(e,t),e.prototype.bnuwIsValid=function(){try{var e=t.prototype.bnuwIsValid.call(this);if(!e.success)return e;if(/^[0-9]$/.test(this.val[0]))return new u(!1,"[[1636301354]]","first number is not allowable")}catch(t){return new u(!1,"[[1636301361]]",t.message)}return new u(!0)},e}(function(t){function e(){return t.apply(this,arguments)||this}return l(e,t),e.prototype.bnuwIsValid=function(){try{var e=t.prototype.bnuwIsValid.call(this);if(!e.success)return e;if(!/^[a-zA-Z0-9_]+$/.test(this.val))return new u(!1,"[[1636300398]]","allowable only [a-zA-Z0-9_] symbols")}catch(t){return new u(!1,"[[1636300404]]",t.message)}return new u(!0)},e}(a))),q=function(){function t(t,e,n,r){void 0===r&&(r=exports.RsuvEnDataTypes.TEXT),this.fieldName=t,this.searchHow=e,this.value=n,this.valueType=r}return t.prototype.bnuwIsValid=function(){return new u},t}();(z=exports.RsuvEnDataTypes||(exports.RsuvEnDataTypes={})).TEXT="text_asau27",z.INT="int_asau27",z.FLOAT="real_asau27",exports.RSUV_AL_ALREADY_EXIST="RSUV_AL_ALREADY_EXIST",exports.RsuvAdapterZrnx=L,exports.RsuvCheckModelGnpw=P,exports.RsuvEcxm=O,exports.RsuvErr=s,exports.RsuvPaginationGyth=i,exports.RsuvResultAsau11=D,exports.RsuvResultBoolPknz=u,exports.RsuvResultTibo=o,exports.RsuvSearchElem=q,exports.RsuvSearchElems=function(t){this.elems=t},exports.RsuvSearchHow=U,exports.RsuvTuArray=M,exports.RsuvTuString=C,exports.RsuvTxEmail=A,exports.RsuvTxFieldName=$,exports.RsuvTxJsonServer=V,exports.RsuvTxNumInt=B,exports.RsuvTxNumIntAB=G,exports.RsuvTxNumIntABB=j,exports.RsuvTxNumIntAC=F,exports.RsuvTxString=a,exports.RsuvTxStringAA=w,exports.RsuvTxStringB=S,exports.RsuvTxStringC=_,exports.RsuvValueAnd=function(t,e){void 0===e&&(e=!0),this.value=t,this.isValueExist=e},exports.RsuvZrnxSubData=R;
//# sourceMappingURL=rsuv-lib.cjs.production.min.js.map
