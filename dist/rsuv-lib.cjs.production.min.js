"use strict";function t(t){return t&&"object"==typeof t&&"default"in t?t.default:t}Object.defineProperty(exports,"__esModule",{value:!0});var e=t(require("lodash")),n=t(require("dayjs")),r=t(require("email-validator")),s=t(require("lodash/toInteger")),u=function(){function t(t,e){void 0===t&&(t=""),void 0===e&&(e=""),this.code=t,this.message=e}return t.prototype.asString=function(){return"code ["+this.code+"] message ["+this.message+"]"},t.asStringB=function(t){return"code ["+t.code+"] message ["+t.message+"]"},t}(),i=function(){function t(t,e){if(void 0===t&&(t=20),void 0===e&&(e=10),this.elemsCount=t,this.elemsPerPageCount=e,this.pageCount=1,t>=e){var n=t/e,r=Math.trunc(n),s=n-r;0===s?this.pageCount=r:s>0&&(this.pageCount=r+1)}}var e=t.prototype;return e.indexesByPageNum=function(t){var e=(t>this.pageCount?this.pageCount:t)*this.elemsPerPageCount-1;return{indexStart:e-this.elemsPerPageCount+1,indexLast:e}},e.elemsByPageNum=function(t,e){var n=this.indexesByPageNum(e);return t.slice(n.indexStart,n.indexLast+1)},t}(),o=function(){function t(t,e,n){void 0===t&&(t=!0),void 0===e&&(e=""),void 0===n&&(n=""),this.success=t,this.errCode=e,this.errMessage=n}return t.infoMulti=function(t){var e={success:[],notSuccess:[]};return t.forEach((function(t){t.success?e.success.push(t):e.notSuccess.push(t)})),e},t.successAllIsSugar=function(e){var n=t.infoMulti(e);return 0===n.notSuccess.length&&n.success.length>0?new t(!0):n.notSuccess.length>0?n.notSuccess[0]:new t(!1,"[[210725095419]]","")},t}(),a=function(){function t(t){this.success=!0,t&&(this.success=t.success,this.successCode=t.successCode,this.value=t.value,this.errCode=t.errCode,this.errMessage=t.errMessage)}return t.fromPknz=function(e){return new t(e?{success:e.success,errCode:e.errCode,errMessage:e.errMessage}:{success:!1,errCode:"[[210725095953]]",errMessage:""})},t}();function c(t){var e=t.bnuwIsValid();if(!e.success)throw e}var l=function(){function t(t){this.val=t,c(this)}return t.prototype.bnuwIsValid=function(){try{if(!this.val)return new o(!1,"[[210705185504]]","is falsy");if(!e.isString(this.val))return new o(!1,"[[210706090804]]","is not string");if(this.val.length<1)return new o(!1,"[[210705185559]]","length < 1")}catch(t){return new o(!1,"[[210705185560]]",t.message)}return new o(!0)},t}();function h(t,e,n,r,s,u,i){try{var o=t[u](i),a=o.value}catch(t){return void n(t)}o.done?e(a):Promise.resolve(a).then(r,s)}function f(t){return function(){var e=this,n=arguments;return new Promise((function(r,s){var u=t.apply(e,n);function i(t){h(u,r,s,i,o,"next",t)}function o(t){h(u,r,s,i,o,"throw",t)}i(void 0)}))}}function p(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,(Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function d(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return v(t,void 0);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(t,void 0):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=t[Symbol.iterator]()).next.bind(n)}var w,g,x=function(t){function e(){return t.apply(this,arguments)||this}return p(e,t),e.prototype.bnuwIsValid=function(){try{var e=t.prototype.bnuwIsValid.call(this);if(!e.success)return e;if(/\s/.test(this.val))return new o(!1,"[[210706092510]]","includes whitespace(s)")}catch(t){return new o(!1,"[[210706092135]]",t.message)}return new o(!0)},e}(l),y=function(t){function e(){return t.apply(this,arguments)||this}return p(e,t),e.prototype.bnuwIsValid=function(){try{var e=t.prototype.bnuwIsValid.call(this);if(!e.success)return e;if(!/^[a-zA-Z0-9_]+$/.test(this.val))return new o(!1,"[[1636300398]]","allowable only [a-zA-Z0-9_] symbols")}catch(t){return new o(!1,"[[1636300404]]",t.message)}return new o(!0)},e}(l),m=function(t){function e(){return t.apply(this,arguments)||this}return p(e,t),e.prototype.bnuwIsValid=function(){try{var e=t.prototype.bnuwIsValid.call(this);if(!e.success)return e;if(/^[0-9]$/.test(this.val[0]))return new o(!1,"[[1636301354]]","first number is not allowable")}catch(t){return new o(!1,"[[1636301361]]",t.message)}return new o(!0)},e}(y),E=function(t){function e(){return t.apply(this,arguments)||this}return p(e,t),e.prototype.bnuwIsValid=function(){try{var e=t.prototype.bnuwIsValid.call(this);if(!e.success)return e;if(!/^[0-9]+$/.test(this.val))return new o(!1,"[[211210125801]]","only numbers allowable")}catch(t){return new o(!1,"[[211210125818]]",t.message)}return new o(!0)},e}(y);function S(t){return!t||0===t.length||/^\s*$/.test(t)}function T(t,e){if(t&&e){var n=t.toLowerCase().split(e.toLowerCase()).length-1;return n>=0?n:0}return 0}function C(t,n,r){var s=[];if(!t||!n||!e.isString(t)||!e.isString(n)||t.length<1||n.length<1||t.length<n.length)return s;for(var u=e.escapeRegExp(n),i=new RegExp(u,"g"+(r?"i":"")),o=!0;o;)(o=i.exec(t))&&s.push(new _(o.index,o.index+n.length));return s}!function(t){t.STARTED="rsuv_t3_started",t.ENDED="rsuv_t3_ended",t.CONTAINS="rsuv_t3_contains",t.COMPLETE_MATCH="rsuv_t3_complete_match"}(w||(w={})),function(t){t.SENSITIVE="rsuv_t6_case_sensitive",t.NOT_SENSITIVE="rsuv_t6_not_case_sensitive"}(g||(g={}));var b,I=function(){this.containsCount=0,this.containsIndexes=[],this.rsuvT3=[]},A=function(){this.sensitive=new I,this.notSensitive=new I},_=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.startIndex=t,this.endIndex=e},R={__proto__:null,isEmptyOrWhitespaces:S,substrCount:function(t,e){if(t&&e){var n=t.split(e).length-1;return n>=0?n:0}return 0},substrCountB:T,substrIndexes:C,stringsTwoInfoB:function(t,e){var n=o.successAllIsSugar([t.bnuwIsValid(),e.bnuwIsValid()]);if(!n.success)return a.fromPknz(n);var r=t.val,s=e.val,u=new A;if(s.length>r.length)return new a({success:!0,value:u});var i=new I;if(r.length===s.length&&r.toLowerCase()===s.toLowerCase())i.rsuvT3.push(w.COMPLETE_MATCH),i.rsuvT3.push(w.STARTED),i.rsuvT3.push(w.ENDED),i.rsuvT3.push(w.CONTAINS),i.containsCount=1,i.containsIndexes.push(new _(0,s.length));else{var c=C(r,s,!0);i.containsIndexes=c,i.containsCount=c.length,i.containsCount>0&&i.rsuvT3.push(w.CONTAINS),r.substring(0,s.length).toLowerCase()===s.toLowerCase()&&i.rsuvT3.push(w.STARTED),r.substring(r.length-s.length,r.length).toLowerCase()===s.toLowerCase()&&i.rsuvT3.push(w.ENDED)}var l=new I;if(r.length===s.length&&r===s)l.rsuvT3.push(w.COMPLETE_MATCH),l.rsuvT3.push(w.STARTED),l.rsuvT3.push(w.ENDED),l.rsuvT3.push(w.CONTAINS),l.containsCount=1,l.containsIndexes.push(new _(0,s.length));else{var h=C(r,s,!1);l.containsIndexes=h,l.containsCount=h.length,l.containsCount>0&&l.rsuvT3.push(w.CONTAINS),r.substring(0,s.length)===s&&l.rsuvT3.push(w.STARTED),r.substring(r.length-s.length,r.length)===s&&l.rsuvT3.push(w.ENDED)}return u.sensitive=l,u.notSensitive=i,new a({success:!0,value:u})},stringsTwoInfo:function(t,e,n){void 0===n&&(n=!0);var r=o.successAllIsSugar([t.bnuwIsValid(),e.bnuwIsValid()]);if(!r.success)return a.fromPknz(r);var s=t.val,u=e.val,i=new I;if(u.length>s.length)return new a({success:!0,value:i});if(n)if(s.length===u.length&&s.toLowerCase()===u.toLowerCase())i.rsuvT3.push(w.COMPLETE_MATCH),i.rsuvT3.push(w.STARTED),i.rsuvT3.push(w.ENDED),i.rsuvT3.push(w.CONTAINS),i.containsCount=1,i.containsIndexes.push(new _(0,u.length));else{var c=C(s,u,!0);i.containsIndexes=c,i.containsCount=c.length,i.containsCount>0&&i.rsuvT3.push(w.CONTAINS),s.substring(0,u.length).toLowerCase()===u.toLowerCase()&&i.rsuvT3.push(w.STARTED),s.substring(s.length-u.length,s.length).toLowerCase()===u.toLowerCase()&&i.rsuvT3.push(w.ENDED)}else if(s.length===u.length&&s===u)i.rsuvT3.push(w.COMPLETE_MATCH),i.rsuvT3.push(w.STARTED),i.rsuvT3.push(w.ENDED),i.rsuvT3.push(w.CONTAINS),i.containsCount=1,i.containsIndexes.push(new _(0,u.length));else{var l=C(s,u,!1);i.containsIndexes=l,i.containsCount=l.length,i.containsCount>0&&i.rsuvT3.push(w.CONTAINS),s.substring(0,u.length)===u&&i.rsuvT3.push(w.STARTED),s.substring(s.length-u.length,s.length)===u&&i.rsuvT3.push(w.ENDED)}return new a({success:!0,value:i})},get RSUV_T3(){return w},get RSUV_T6_CASE(){return g},RsuvT4:I,RsuvT5:A,RsuvT7:_},N=function(t){function e(){return t.apply(this,arguments)||this}return p(e,t),e.prototype.bnuwIsValid=function(){try{var e=t.prototype.bnuwIsValid.call(this);if(!e.success)return e;if(S(this.val))return new o(!1,"[[210705191242]]","contains only whitespaces")}catch(t){return new o(!1,"[[210705190613]]",t.message)}return new o(!0)},e}(l),D=function(t){function e(){return t.apply(this,arguments)||this}return p(e,t),e.prototype.bnuwIsValid=function(){try{var e=t.prototype.bnuwIsValid.call(this);if(!e.success)return e;if(/^\s/.test(this.val))return new o(!1,"[[210705191717]]","started with whitespace");if(/\s$/.test(this.val))return new o(!1,"[[210705191826]]","ended with whitespace")}catch(t){return new o(!1,"[[210705191508]]",null==t?void 0:t.message)}return new o(!0)},e}(N);!function(t){t.YATA="yata",t.NECZ="necz",t.RVUO="rvuo"}(b||(b={}));var L=function(t,e,n){this.success=t,this.value=e,this.code=n};function V(t){return!!e.isFinite(t)}function O(t){return!!e.isFinite(t)}function k(t){if(!e.isString(t))return null;var r=/^(\d\d\d\d+)-(\d\d)-(\d\d)T(\d\d):(\d\d)$/.exec(t);if(r){var s=Number(r[2]),u=Number(r[3]),i=Number(r[4]),o=Number(r[5]);if(s<1||s>12)return null;if(u<1||u>31)return null;if(i<0&&i>24)return null;if(o<0&&o>59)return null}var a=n(t).toDate().getTime();return e.isFinite(a)?a+"":null}var P,F,M,B={__proto__:null,get DATETIME(){return b},ResultAsau36:L,rvuoFromYata:function(t){return V(t)?n(t).format("YYYY-MM-DDTHH:mm"):null},yataFromRvuo:function(t){if(!e.isString(t))return new L(!1,0,2);var n=k(t);if(n){var r=e.toInteger(n);return new L(!0,r,0)}return new L(!1,0,1)},yataIs:V,yataFromEavv:function(t){return O(t)?new L(!0,1e3*t,0):new L(!1,0,1)},yataIsActual:function(t,e){return V(t)?V(e)?new L(!0,!(t>e),0):new L(!1,!1,2):new L(!1,!1,1)},eavvIs:O,rvuoIs:k},j=function(t){function e(){return t.apply(this,arguments)||this}return p(e,t),e.prototype.bnuwIsValid=function(){return r.validate(this.val)?new o(!0):new o(!1,"[[210706113857]]","EmailValidator")},e}(x),G=(function(t){var e=function(t){var e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},s=r.iterator||"@@iterator",u=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function o(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{o({},"")}catch(t){o=function(t,e,n){return t[e]=n}}function a(t,e,n,r){var s=Object.create((e&&e.prototype instanceof h?e:h).prototype),u=new T(r||[]);return s._invoke=function(t,e,n){var r="suspendedStart";return function(s,u){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===s)throw u;return{value:void 0,done:!0}}for(n.method=s,n.arg=u;;){var i=n.delegate;if(i){var o=m(i,n);if(o){if(o===l)continue;return o}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var a=c(t,e,n);if("normal"===a.type){if(r=n.done?"completed":"suspendedYield",a.arg===l)continue;return{value:a.arg,done:n.done}}"throw"===a.type&&(r="completed",n.method="throw",n.arg=a.arg)}}}(t,n,u),s}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=a;var l={};function h(){}function f(){}function p(){}var v={};v[s]=function(){return this};var d=Object.getPrototypeOf,w=d&&d(d(C([])));w&&w!==e&&n.call(w,s)&&(v=w);var g=p.prototype=h.prototype=Object.create(v);function x(t){["next","throw","return"].forEach((function(e){o(t,e,(function(t){return this._invoke(e,t)}))}))}function y(t,e){var r;this._invoke=function(s,u){function i(){return new e((function(r,i){!function r(s,u,i,o){var a=c(t[s],t,u);if("throw"!==a.type){var l=a.arg,h=l.value;return h&&"object"==typeof h&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){r("next",t,i,o)}),(function(t){r("throw",t,i,o)})):e.resolve(h).then((function(t){l.value=t,i(l)}),(function(t){return r("throw",t,i,o)}))}o(a.arg)}(s,u,r,i)}))}return r=r?r.then(i,i):i()}}function m(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,m(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var s=r.arg;return s?s.done?(e[t.resultName]=s.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):s:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function C(t){if(t){var e=t[s];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,u=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return u.next=u}}return{next:b}}function b(){return{value:void 0,done:!0}}return f.prototype=g.constructor=p,p.constructor=f,f.displayName=o(p,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,o(t,i,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},x(y.prototype),y.prototype[u]=function(){return this},t.AsyncIterator=y,t.async=function(e,n,r,s,u){void 0===u&&(u=Promise);var i=new y(a(e,n,r,s),u);return t.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},x(g),o(g,i,"Generator"),g[s]=function(){return this},g.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=C,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var s=this.tryEntries.length-1;s>=0;--s){var u=this.tryEntries[s],i=u.completion;if("root"===u.tryLoc)return r("end");if(u.tryLoc<=this.prev){var o=n.call(u,"catchLoc"),a=n.call(u,"finallyLoc");if(o&&a){if(this.prev<u.catchLoc)return r(u.catchLoc,!0);if(this.prev<u.finallyLoc)return r(u.finallyLoc)}else if(o){if(this.prev<u.catchLoc)return r(u.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return r(u.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var s=this.tryEntries[r];if(s.tryLoc<=this.prev&&n.call(s,"finallyLoc")&&this.prev<s.finallyLoc){var u=s;break}}u&&("break"===t||"continue"===t)&&u.tryLoc<=e&&e<=u.finallyLoc&&(u=null);var i=u?u.completion:{};return i.type=t,i.arg=e,u?(this.method="next",this.next=u.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),S(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var s=r.arg;S(n)}return s}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:C(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}(t.exports);try{regeneratorRuntime=e}catch(t){Function("r","regeneratorRuntime = r")(e)}}(F={exports:{}}),F.exports),U=function(t,e,n,r){void 0===t&&(t=0),void 0===e&&(e=1),void 0===n&&(n=0),void 0===r&&(r=[]),this.page=t,this.pageCount=e,this.elemsAllCount=n,this.elemsOfPage=r},H=function(){function t(t,e){this.perPage=t,this.dataSource=e,this.page=0,this.elemsAllCount=0,this.elemsOfPage=[],this.pageCount=0}var e=t.prototype;return e.make=function(){var t=f(G.mark((function t(e,n){var r,s,u,a,c,l;return G.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===n&&(n=!1),t.next=3,this.dataSource.elemsAllCountGet();case 3:return s=new i(r=t.sent,this.perPage),u=s.pageCount,this.page=n||u<e?u:e,this.elemsAllCount=r,this.pageCount=u,a=s.indexesByPageNum(this.page),c=a.indexStart,l=a.indexLast,t.next=12,this.dataSource.elemsGet(c,l-c+1);case 12:return this.elemsOfPage=t.sent,t.abrupt("return",new o);case 14:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),e.dataGet=function(){return new U(this.page,this.pageCount,this.elemsAllCount,this.elemsOfPage)},t}(),Y=function(){function t(t){this.val=t,c(this)}return t.prototype.bnuwIsValid=function(){try{if(!e.isBoolean(this.val))return new o(!1,"[[210711220826]]","is not boolean")}catch(t){return new o(!1,"[[210705185560]]",t.message)}return new o(!0)},t}(),J=function(){function t(){}return t.find=function(t,e){return t.find((function(t){return t.id===e}))},t.append=function(e,n){return t.find(e,n.id)?new o(!1,"[[210712155908]]","already exist"):(e.push(n),new o(!0))},t.appendMulti=function(e,n){var r=[];return n.forEach((function(n){var s=t.append(e,n);s.success||r.push(s)})),r},t.update=function(e,n){var r=t.find(e,n.id);return r?(r.checked=n.checked,new o(!0)):new o(!1,"[[210712160222]]","not finded")},t.updateMulti=function(e,n){var r=[];return n.forEach((function(n){var s=t.update(e,n);s.success||r.push(s)})),r},t.delete=function(t,e){var n=t.findIndex((function(t){return t.id===e.id}));return-1!==n?(t.splice(n,1),new o(!0)):new o(!1,"[[210712160441]]","not finded")},t.deleteMulti=function(e,n){var r=[];return n.forEach((function(n){var s=t.delete(e,n);s.success||r.push(s)})),r},t.filter=function(t,e){return t.filter((function(t){return t.checked===e}))},t.inverse=function(t){t.forEach((function(t){return t.checked=!t.checked}))},t.selectAll=function(t){t.forEach((function(t){t.checked||(t.checked=!0)}))},t.deselectAll=function(t){t.forEach((function(t){t.checked&&(t.checked=!1)}))},t}(),q=function(){function t(t,e){void 0===t&&(t=""),void 0===e&&(e=!1),this.id=t,this.checked=e}return t.prototype.bnuwIsValid=function(){var t=function(t){if(Array.isArray(t)&&t.length>0){var e=[];return t.forEach((function(t){var n,r=(n=t)?n.bnuwIsValid()||new o(!1,"[[210711215805]]","invalid value"):new o(!1,"[[210711215605]]","value is falsy");r.success||e.push(r)})),e}return[new o(!1,"[[210711221552]]")]}([new x(this.id),new Y(this.checked)]);return t.length>0?t[0]:new o(!0)},t}(),z=function(t,e){void 0===t&&(t=-1),void 0===e&&(e=!1),this.success=!1,this.codeNum=0,this.success=e,this.codeNum=t},$=function(){function t(){}return t.elemsDiap=function(e,n,r){return t.fnArrValidIs(e)?t.fnIndexValidIs(e,n)?t.fnIndexValidIs(e,r)?new a(r<n?{success:!1,errCode:"4"}:r===n?{success:!0,value:[e[n]],successCode:"100"}:{success:!0,value:e.slice(n,r+1),successCode:"101"}):new a({success:!1,errCode:"3"}):new a({success:!1,errCode:"2"}):new a({success:!1,errCode:"1"})},t.elemDelete=function(e,n){return t.fnArrValidIs(e)?t.fnIndexValidIs(e,n)?(e.splice(n,1),new z(0,!0)):new z(2):new z(1)},t.elemAdd=function(e,n,r){return t.fnArrValidIs(e)?t.fnIndexValidIsB(e,n)?(e.splice(n,0,r),new z(0,!0)):new z(2):new z(1)},t.elemMove=function(e,n,r){if(!t.fnArrValidIs(e))return new z(1);if(!t.fnIndexValidIs(e,n))return new z(2);if(!t.fnIndexValidIs(e,r))return new z(3);if(n===r)return new z(0,!0);var s=e.splice(n,1);return e.splice(r,0,s[0]),new z(0,!0)},t.elemsSwap=function(e,n,r){if(!t.fnArrValidIs(e))return new z(1);if(!t.fnIndexValidIs(e,n))return new z(2);if(!t.fnIndexValidIs(e,r))return new z(3);if(n===r)return new z(0,!0);var s=e[n];return e[n]=e[r],e[r]=s,new z(0,!0)},t.elemUpdate=function(n,r,s){if(!t.fnArrValidIs(n))return new z(1);if(!e.isFunction(s))return new z(2);if(n.length<1)return new z(3);var u=n.findIndex((function(t,e){return s(t,e)}));return-1===u?new z(4):(n[u]=r,new z(0,!0))},t.containsAll=function(t,n){if(t.length<1||n.length<1)return!1;var r=e.uniq(n);return e.intersection(t,r).length===r.length},t.fnIndexValidIs=function(t,e){return!(e<0)&&e<=t.length-1},t.fnIndexValidIsB=function(t,e){return!(e<0)&&e<=t.length},t.fnArrValidIs=function(t){return!!e.isArray(t)},t}();(P=exports.RsuvAsau90||(exports.RsuvAsau90={})).SUCCESS_CODE_1="1",P.SUCCESS_CODE_2="2",(M=exports.RsuvAsau92||(exports.RsuvAsau92={})).SUCCESS_CODE_1="1",M.SUCCESS_CODE_2="2",M.ERR_CODE_1="100";var X,Z=function(){function t(){}return t.values=function(t,e,n){function r(t,s){s.forEach((function(s){s.hasOwnProperty(e)&&t.push(s[e]);var u=s[n];u&&Array.isArray(u)&&u.length>0&&r(t,u)}))}var s=[];if(Array.isArray(t))r(s,t);else{t.hasOwnProperty(e)&&s.push(t[e]);var u=t[n];u&&Array.isArray(u)&&u.length>0&&r(s,u)}return s},t.accum=function(t,n,r,s){if(t.length>0){var u=new Map;t.map((function(t,i){var o=e.get(t,n,[]);e.isArray(o)&&o.length>0&&o.map((function(n){if(e.isString(n)||e.isFinite(n)){var o=n+"",a=e.get(t,r),c=e.isString(a)?a:e.isFinite(a)?String(a):null;null===c&&(c="rsuv-spc-id-plug-"+String(i)),function(t,e,n){if(t.has(e)){var r=t.get(e);s&&r.includes(n)||r.push(n)}else t.set(e,[n])}(u,o,c)}}))}));var i=[];return u.forEach((function(t,e){i.push({value:e,ids:t})})),new a({success:!0,value:i,successCode:exports.RsuvAsau90.SUCCESS_CODE_1})}return new a({success:!0,value:[],successCode:exports.RsuvAsau90.SUCCESS_CODE_2})},t.uniqValuesIs=function(t,n,r){if(t.length<1)return new a({success:!0,value:[],successCode:exports.RsuvAsau92.SUCCESS_CODE_2});var s=new Map,u=!1;if(t.map((function(t,i){if(e.has(t,n)){var o=e.get(t,n);if(s.has(o)){var a=s.get(o);a.count++,a.indexes.push(i)}else s.set(o,{count:1,indexes:[i]})}else r&&(u=!0)})),u)return new a({success:!1,errCode:exports.RsuvAsau92.ERR_CODE_1});var i=[];return s.forEach((function(t,e){t.count>1&&i.push({value:e,count:t.count,indexes:t.indexes})})),new a({success:!0,value:i,successCode:exports.RsuvAsau92.SUCCESS_CODE_1})},t.findDeepBy=function(t,e,n){if(!t)return[];var r=[],s=!1,u=!0;return JSON.stringify(t,(function(t,i){var o;if(u||!n&&(n||s)||e(t,i)&&(r.push(((o={})[t]=i,o)),s=!0),u||n||!s)return u=!1,i})),r},t.findDeepByB=function(t,e,n){if(!t)return[];var r=[],s=!1,u=!0;return JSON.stringify(t,(function(t,i){if(u||!n&&(n||s)||e(t,i,this)&&(r.push({key:t,value:i,parent:this}),s=!0),u||n||!s)return u=!1,i})),r},t}();(X=exports.EnStatusAsau56||(exports.EnStatusAsau56={})).REJECTED="rejected",X.FULFILLED="fulfilled";var W,K=function(){function t(){}return t.rejected=function(t){var e=[];return t.forEach((function(t,n){t.status===exports.EnStatusAsau56.REJECTED&&e.push({ix:n,reason:t.reason})})),e},t.fulfilled=function(t){var e=[];return t.forEach((function(t,n){t.status===exports.EnStatusAsau56.FULFILLED&&e.push({ix:n,value:t.value})})),e},t.isAllSuccess=function(t){return t.every((function(t){return t.status===exports.EnStatusAsau56.FULFILLED}))},t.pElemIs=function(t,e){return t.status===e},t.handle=function(t,e,n){var r=this;return t.map((function(t){return r.pElemIs(t,exports.EnStatusAsau56.FULFILLED)?e(t.value):n(t.reason)}))},t}(),Q=function(){function t(t,e){this.basePath=t,this.collectionName=e,this.path=""+this.basePath+this.collectionName}var e=t.prototype;return e.elemsCountGetAll=function(){var t=f(G.mark((function t(){var e;return G.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(this.path+"?_limit=1");case 2:return e=t.sent.headers.get("x-total-count"),t.abrupt("return",s(e));case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e.elemsGetAll=function(){var t=f(G.mark((function t(){return G.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(this.path);case 2:return t.abrupt("return",t.sent.json());case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e.elemsGet=function(){var t=f(G.mark((function t(e,n){return G.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(this.path+"?_start="+e+"&_limit="+n);case 2:return t.abrupt("return",t.sent.json());case 4:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),e.elemsGetPage=function(){var t=f(G.mark((function t(e,n){return G.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(this.path+"?_page="+e+"&_limit="+n);case 2:return t.abrupt("return",t.sent.json());case 4:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),e.elemsGetByFilter=function(){var t=f(G.mark((function t(e){return G.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(this.path+"?"+e);case 2:return t.abrupt("return",t.sent.json());case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e.elemsGetByFilterB=function(){var t=f(G.mark((function t(e,n,r,s){var u;return G.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.elemsGetAll();case 2:return u=t.sent.filter((function(t){return T(t[e],n)>0})),t.abrupt("return",u.slice(r,r+s));case 5:case"end":return t.stop()}}),t,this)})));return function(e,n,r,s){return t.apply(this,arguments)}}(),e.elemsGetByFilterBB=function(){var t=f(G.mark((function t(e,n,r,s){return G.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.elemsGetByFilterB(e,n,(r-1)*s,s);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(e,n,r,s){return t.apply(this,arguments)}}(),e.elemsGetByFilterC=function(){var t=f(G.mark((function t(e,n,r,s){var u,i;return G.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.elemsGetAll();case 2:return u=t.sent.filter((function(t){return T(t[e],n)>0})),i=u.slice(r,r+s),t.abrupt("return",{countAll:u.length,data:i,hasNext:r+s<u.length});case 6:case"end":return t.stop()}}),t,this)})));return function(e,n,r,s){return t.apply(this,arguments)}}(),e.elemsGetByFilterCB=function(){var t=f(G.mark((function t(e,n,r,s){return G.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.elemsGetByFilterC(e,n,(r-1)*s,s));case 1:case"end":return t.stop()}}),t,this)})));return function(e,n,r,s){return t.apply(this,arguments)}}(),e.elemDelete=function(){var t=f(G.mark((function t(e){var n;return G.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(this.path+"/"+e,{method:"DELETE"});case 2:if(200===(n=t.sent).status){t.next=5;break}return t.abrupt("return",new o(!1,"210315153800","err*: id not found; id ["+e+"]; ret.status ["+n.status+"]"));case 5:return t.abrupt("return",new o);case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e.elemsDelete=function(){var t=f(G.mark((function t(e){var n,r,s,u;return G.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=[],r=d(e);case 2:if((s=r()).done){t.next=10;break}return u=s.value,t.next=6,this.elemDelete(u);case 6:n.push(t.sent);case 8:t.next=2;break;case 10:return t.abrupt("return",n);case 11:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e.elemsDeleteB=function(){var t=f(G.mark((function t(e){var n,r,s,u,i;return G.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=[],r=[],s=d(e);case 3:if((u=s()).done){t.next=11;break}return i=u.value,t.next=7,this.elemDelete(i);case 7:t.sent.success?n.push(i):r.push(i);case 9:t.next=3;break;case 11:return t.abrupt("return",{isAllSuccess:n.length===e.length,idsSuccess:n,idsNotSuccess:r});case 12:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e.elemsDeleteByFilter=function(){var t=f(G.mark((function t(e){var n;return G.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.elemsGetByFilter(e);case 2:return n=t.sent,t.next=5,this.elemsDelete(n.map((function(t){return t.id})));case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e.elemCreate=function(){var t=f(G.mark((function t(e){var n;return G.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(""+this.path,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});case 2:if(201!==(n=t.sent).status){t.next=5;break}return t.abrupt("return",new o);case 5:return t.abrupt("return",new o(!1,"210316120200","err*: not created; status ["+n.status+"] url ["+n.url+"]"));case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e.elemCreateB=function(){var t=f(G.mark((function t(e){var n;return G.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(""+this.path,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});case 2:if(201!==(n=t.sent).status){t.next=8;break}return t.next=6,n.json();case 6:return t.abrupt("return",new a({success:!0,value:t.sent.id+""}));case 8:return t.abrupt("return",new a({success:!1,errCode:n.status+"",errMessage:n.url}));case 9:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e.elemUpdate=function(){var t=f(G.mark((function t(e){var n;return G.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(this.path+"/"+e.id,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});case 2:if(200!==(n=t.sent).status){t.next=5;break}return t.abrupt("return",new o);case 5:return t.abrupt("return",new o(!1,"210318111500","err*: not updated; status ["+n.status+"] url ["+n.url+"]"));case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),t}(),tt=function(){function t(t){this.val=t,c(this)}return t.prototype.bnuwIsValid=function(){try{if(!this.val&&0!==this.val)return new o(!1,"[[1636272243]]","is falsy");if(!e.isFinite(this.val))return new o(!1,"[[1636272327]]","is not number");if(!e.isSafeInteger(this.val))return new o(!1,"[[1636272328]]","is not integer")}catch(t){return new o(!1,"[[1636279573]]",t.message)}return new o(!0)},t}(),et=function(t){function e(){return t.apply(this,arguments)||this}return p(e,t),e.prototype.bnuwIsValid=function(){try{var e=t.prototype.bnuwIsValid.call(this);if(!e.success)return e;if(this.val<0)return new o(!1,"[[1636279844]]","number is < 0")}catch(t){return new o(!1,"[[1636279706]]",t.message)}return new o(!0)},e}(tt),nt=function(t){function e(){return t.apply(this,arguments)||this}return p(e,t),e.prototype.bnuwIsValid=function(){try{var e=t.prototype.bnuwIsValid.call(this);if(!e.success)return e;if(0===this.val)return new o(!1,"[[1636280020]]","number is === 0")}catch(t){return new o(!1,"[[1636280025]]",t.message)}return new o(!0)},e}(et),rt=function(t){function e(){return t.apply(this,arguments)||this}return p(e,t),e.prototype.bnuwIsValid=function(){try{var e=t.prototype.bnuwIsValid.call(this);if(!e.success)return e;if(this.val<-1)return new o(!1,"[[1636280874]]","number is < -1")}catch(t){return new o(!1,"[[1636280879]]",t.message)}return new o(!0)},e}(tt),st=function(){function t(t,e){this.indexStart=t,this.indexEnd=e,c(this)}return t.prototype.bnuwIsValid=function(){var t=this.indexStart.val,e=this.indexEnd.val;return t<=e?new o:new o(!1,"[[220107123149]]","end index must be greater than start index; ixStart "+t+", ixEnd "+e)},t}(),ut=function(t){function e(){return t.apply(this,arguments)||this}return p(e,t),e}(m),it=function(){function t(t){this.val=t,c(this)}return t.prototype.bnuwIsValid=function(){return this.val?new o:new o(!1,"[[220509121136]]")},t}();(W=exports.RsuvSearchMode||(exports.RsuvSearchMode={})).EQUAL_STRICT="equal_strict_asau22",W.CONTAINS="contains_asau22",W.START_WITH="start_with_asau22",W.END_WITH="end_with_asau22";var ot,at,ct,lt,ht,ft=function(){function t(t,e){void 0===t&&(t=exports.RsuvSearchMode.CONTAINS),this.searchMode=t,this.isCaseSensitive=e}return t.prototype.bnuwIsValid=function(){return new o(!0)},t}();(ot=exports.RsuvEnCaseSensitive||(exports.RsuvEnCaseSensitive={})).CASE_SENSITIVE_TRUE="case_sensitive_true_asau26",ot.CASE_SENSITIVE_FALSE="case_sensitive_false_asau26",(at=exports.RsuvEnDataTypes||(exports.RsuvEnDataTypes={})).TEXT="text_asau27",at.INT="int_asau27",at.FLOAT="real_asau27",(ct=exports.RsuvEnSort||(exports.RsuvEnSort={})).ASC="asc",ct.DESC="desc",ct.UNDEF="undef",(lt=exports.RsuvEnResultCrudSet||(exports.RsuvEnResultCrudSet={})).CREATED="created",lt.UPDATED="updated",lt.ERROR="error",function(t){t.KFRX="kfrx"}(ht||(ht={}));var pt={__proto__:null,get TypeAsau42(){return ht},info:function(t){}},vt=function(){function t(t,e,n,r){void 0===r&&(r=exports.RsuvEnDataTypes.TEXT),this.fieldName=t,this.searchHow=e,this.value=n,this.valueType=r}return t.prototype.bnuwIsValid=function(){return new o},t}();exports.Asau57=function(){this.ix=-1},exports.PElemAsau66=function(){this.status=exports.EnStatusAsau56.REJECTED},exports.RSUV_AL_ALREADY_EXIST="RSUV_AL_ALREADY_EXIST",exports.RSUV_SPC_ID_PLUG_PREFIX="rsuv-spc-id-plug-",exports.RsuvAdapterZrnx=H,exports.RsuvAsau67=function(){this.ix=-1},exports.RsuvCheckModelGnpw=q,exports.RsuvEcxm=J,exports.RsuvErr=u,exports.RsuvPaginationGyth=i,exports.RsuvResultAsau11=z,exports.RsuvResultBoolPknz=o,exports.RsuvResultTibo=a,exports.RsuvSearchElem=vt,exports.RsuvSearchElems=function(t){this.elems=t},exports.RsuvSearchHow=ft,exports.RsuvTu={__proto__:null,testData:[{id:1,val:"",desc:"пустая строка",res:!0},{id:2,val:" ",desc:"строка только из пробелов",res:!0},{id:3,val:"text",desc:"строка без пробелов",res:!0},{id:4,val:"text text",desc:"строка с пробелами только внутри",res:!0},{id:5,val:" text",desc:"строка с пробелом в начале",res:!0},{id:6,val:"text ",desc:"строка с пробелом в конце",res:!0},{id:7,val:" text ",desc:"строка с пробелом в начале и конце",res:!0},{id:8,val:"text1\n  text2",desc:"строка переносом внутри",res:!0},{id:9,val:"100",desc:"строка целое число",res:!0},{id:10,val:null,desc:"null",res:!0},{id:11,val:void 0,desc:"undefined",res:!0},{id:12,val:NaN,desc:"NaN",res:!0},{id:13,val:Infinity,desc:"Infinity",res:!0},{id:14,val:0,desc:"ноль",res:!0},{id:15,val:0,desc:"+0",res:!0},{id:16,val:-0,desc:"-0",res:!0},{id:17,val:100,desc:"число 100",res:!0},{id:18,val:100.06,desc:"число 100.06",res:!0},{id:19,val:[],desc:"пустой массив",res:!0},{id:20,val:[{a:1}],desc:"непустой массив",res:!0},{id:21,val:{},desc:"пустой объект",res:!0},{id:22,val:{a:1},desc:"непустой объект",res:!0},{id:23,val:function(){},desc:"стрелочная функция",res:!0},{id:24,val:"\n  text",desc:"строка с переносом в начале",res:!0},{id:25,val:"text\n  ",desc:"строка с переносом в конце",res:!0},{id:26,val:"\n    text\n  ",desc:"строка с переносом в начале, середине и конце",res:!0},{id:27,val:"\n    ",desc:"строка из одних переносов",res:!0}],RSUV_NO_TAGS_SPC_VALUE:"<no tags>"},exports.RsuvTuArray=$,exports.RsuvTuDateTime=B,exports.RsuvTuInfo=pt,exports.RsuvTuPromiseAllSettled=K,exports.RsuvTuString=R,exports.RsuvTuTree=Z,exports.RsuvTxChecked=function(t,e,n,r,s){void 0===n&&(n=!1),void 0===r&&(r=!1),this.id=t,this.visibleText=e,this.checked=n,this.disabled=r,this.payload=s},exports.RsuvTxEmail=j,exports.RsuvTxFieldName=ut,exports.RsuvTxFieldNameLodash=it,exports.RsuvTxJsonServer=Q,exports.RsuvTxNumInt=tt,exports.RsuvTxNumIntAB=et,exports.RsuvTxNumIntABB=nt,exports.RsuvTxNumIntAC=rt,exports.RsuvTxNumIntDiap=st,exports.RsuvTxSort=function(t,e){this.id=t,this.sortDirect=e;var n=t.bnuwIsValid();if(!n.success)throw new Error(n.errCode+" : "+n.errMessage)},exports.RsuvTxString=l,exports.RsuvTxStringAB=x,exports.RsuvTxStringAC=y,exports.RsuvTxStringACB=m,exports.RsuvTxStringACC=E,exports.RsuvTxStringAD=N,exports.RsuvTxStringADB=D,exports.RsuvValueAnd=function(t,e){void 0===e&&(e=!0),this.value=t,this.isValueExist=e},exports.RsuvZrnxSubData=U;
//# sourceMappingURL=rsuv-lib.cjs.production.min.js.map
