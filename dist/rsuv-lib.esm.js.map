{"version":3,"file":"rsuv-lib.esm.js","sources":["../src/RsuvValueAnd.ts","../src/RsuvErr.ts","../src/RsuvPaginationGyth.ts","../src/RsuvResultBoolPknz.ts","../src/RsuvResultTibo.ts","../src/RsuvConst.ts"],"sourcesContent":["export class RsuvValueAnd {\n  /**\n   * МОТИВАЦИЯ: допустим мы хотим получить значение ячейки столбца, но такого столбца не существует; в этом случае\n   * возврат просто falsy значения (undefined и т.п.) не позволяет понять, это значение ячейки undefined или же это\n   * означает что ячейки не существует.\n   *\n   * @param value\n   * @param isValueExist (2) -- если здесь FALSE то это означает что значение поля {@link value} не следует брать во\n   * внимание т.к. на самом деле значения получить не удалось (например сущности из которой предполагается взять\n   * значение просто не существует)\n   */\n  constructor(readonly value: string, readonly isValueExist: boolean = true) {\n  }\n}\n","/**\n * Представляет какую-либо ошибку\n */\nexport class RsuvErr {\n  constructor(readonly code: string = '', readonly message: string = '') {\n  }\n\n  asString(): string {\n    return `code [${this.code}] message [${this.message}]`\n  }\n\n  static asStringB(oj: RsuvErr): string {\n    return `code [${oj.code}] message [${oj.message}]`\n  }\n}\n","/**\n * [[gyth]]\n * Сущность для пагинации. Передаём в конструктор \"общее кол-во элементов\" и \"кол-во элементов на странице\", и затем\n * по \"номеру страницы\" узнаём начальный и конечный индексы с помощью метода {@link indexesByPageNum}\n */\nexport class RsuvPaginationGyth {\n\n  /**\n   * Количество страниц\n   */\n  public readonly pageCount: number = 1\n\n  /**\n   * При интанцировании вычисляет поле {@link pageCount}\n   *\n   * @param elemsCount (1) -- общее количество элементов\n   * @param elemsPerPageCount (2) -- элементов на одной странице\n   */\n  constructor(readonly elemsCount: number = 20, readonly elemsPerPageCount: number = 10) {\n    // --- вычисление this.pageCount\n    if (elemsCount >= elemsPerPageCount) {\n      const pagesFloat = elemsCount / elemsPerPageCount\n      const pages = Math.trunc(pagesFloat)\n      const dev = pagesFloat - pages;\n      if (dev === 0) {\n        this.pageCount = pages\n      } else if (dev > 0) {\n        this.pageCount = pages + 1\n      }\n    }\n  }\n\n  /**\n   *\n   * @param pageNum (1) -- 1+, если больше реального количества страниц, то возвращаются данные для фактичесчки последней\n   * страницы\n   */\n  indexesByPageNum(pageNum: number): { indexStart: number, indexLast: number } {\n    const pageNum0 = pageNum > this.pageCount ? this.pageCount : pageNum;\n    // ---\n    const indexLast = pageNum0 * this.elemsPerPageCount - 1;\n    const indexStart = indexLast - this.elemsPerPageCount + 1;\n    return {indexStart, indexLast}\n  }\n\n  elemsByPageNum(elems: any[], pageNum: number): any[] {\n    const {indexStart, indexLast} = this.indexesByPageNum(pageNum);\n    return elems.slice(indexStart, indexLast + 1)\n  }\n\n}\n","/**\n * [[pknz]]\n */\nexport class RsuvResultBoolPknz {\n  constructor(readonly success: boolean = true, readonly errCode: string = '', readonly errMessage: string = '') {\n  }\n}\n","/*\n[[tibo]]\n */\n\nexport class RsuvResultTibo {\n  success: boolean = true\n  successCode: string = ''\n  value: any = undefined\n  errCode: string = ''\n  errMessage: string = ''\n\n  constructor(tibo?: RsuvResultTibo) {\n    if(tibo) {\n      this.success = tibo.success\n      this.successCode = tibo.successCode\n      this.value = tibo.value\n      this.errCode = tibo.errCode\n      this.errMessage = tibo.errMessage\n    }\n  }\n}\n\n","/*\nконстанты разные\n */\n\n/**\n * Когда что-то уже существует\n */\nexport const RSUV_AL_ALREADY_EXIST = 'RSUV_AL_ALREADY_EXIST';\n"],"names":["RsuvValueAnd","value","isValueExist","RsuvErr","code","message","asString","asStringB","oj","RsuvPaginationGyth","elemsCount","elemsPerPageCount","pagesFloat","pages","Math","trunc","dev","pageCount","indexesByPageNum","pageNum","pageNum0","indexLast","indexStart","elemsByPageNum","elems","slice","RsuvResultBoolPknz","success","errCode","errMessage","RsuvResultTibo","tibo","undefined","successCode","RSUV_AL_ALREADY_EXIST"],"mappings":"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"}